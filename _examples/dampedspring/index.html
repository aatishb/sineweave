---
layout: livecode
title: Damped Sine
category: oscillator
blurb: |
  This is an exponentially decaying [sine wave](https://aatishb.com/synthfromscratch/examples/sine/index.html). This is the shape that would be traced out by a mass hanging at the end of a damped spring. Basically, it just multiplies the sine wave with a decaying exponential factor.

  To implement this from scratch, you could do something like

  ```javascript
  function loop() {
  return time
    .map(t => Math.sin(2 * Math.PI * 440 * t) * Math.exp(-t))
    .mult(0.1);
  }
  ```

  The predefined `sinDamped(freq, tau)` function requires two arguments: the frequency of the sine wave, and the time constant of the decay. If tau is 2, it means the wave will shrink to 1/e of its size in 2 seconds.

  In code, the function is defined like this:
  ```javascript
  const sinDamped = (f, tau, phase = 0) => t => Math.exp(- t / tau) * sin(f, phase)(t);
  ```

  What happens to the sound as you make the time constant tau smaller?
---
let amp = 0.5;
let freq = 440;

function setup() {

}

function loop() {
  return time
    .map(sinDamped(freq, 1))
    .mult(amp);
}