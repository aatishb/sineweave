---
layout: livecode
title: Guitar String
category: waveguide
blurb: |
  The classic [Karplus-Strong Algorithm](http://sites.music.columbia.edu/cmc/MusicAndComputers/chapter4/04_09.php) for simulating the sound of a guitar string. Start with a random wave filled with white noise. Now loop a delay followed by a smoothing average.
---
let amp = 0.1;
let noiseWave;

function setup() {
  noiseWave = new Float32Array(128)
    .map(whiteNoise)
    .mult(amp);
}

function loop() {
  noiseWave = noiseWave.delay(1).map(average);
  return noiseWave;
}
