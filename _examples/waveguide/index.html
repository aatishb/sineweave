---
layout: livecode
title: Waveguide
category: instrument
blurb: |

---
let wg, average;

function setup() {
  wg = new WaveGuide(100).initialize(whiteNoise);
  average = twoPointAverage();
}

function loop() {
  wg.delay();
  wg.update(wg.apply(average).mult(0.99));
  return wg.mult(0.1);
}


/*

let waveGuide;
let freq = 500;
let average;
let noise;

function setup() {
  let waveGuideLength = Math.round(sampleRate / freq - 0.5);
  waveGuide = new WaveGuide(waveGuideLength);
  average = twoPointAverage();
}

function loop() {

  noise = noiseWave().mult(0.1);
  waveGuide.delay();
  waveGuide.update(waveGuide.add(noise).apply(average));
  return waveGuide.mult(0.05);
}

*/