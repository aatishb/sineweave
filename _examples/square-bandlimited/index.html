---
layout: livecode
title: Square Wave (Band Limited)
category: synthesis
---
let freq = 440;

function setup() {

}

const squareB = f => t => {
  let mySum = 0;
  let maxIndex = sampleRate / (2 * f);

  for (let k = 1; k < maxIndex / 2; k += 2){
    mySum += sin(f * k)(t) / k;
  }
  mySum *= 4 / Math.PI;

  return mySum;
};

function loop() {
  return time
    .map(squareB(freq))
    .mult(0.05);
}
