---
layout: livecode
title: Glass Clink (additive)
category: synthesis
blurb: |
  Simulating the sound of a spoon clinking a glass by additive synthesis. Here, we're adding a bunch of damped sine waves of different amplitudes and frequencies.
---
let peaks = [
  {freq: 754, amp: 0.7},
  {freq: 1938, amp: 0.8},
  {freq: 3628, amp: 1.0},
  {freq: 5642, amp: 0.5},
  {freq: 7816, amp: 0.3},
  {freq: 9388, amp: 0.1}
];

let zero, myWave;
let numPeaks = peaks.length;
let i;

function setup() {
  zero = new Wave();
}

function loop() {
  myWave = zero;

  for (i = 0; i < numPeaks; i++) {
    myWave = myWave.add(
      sinWave(peaks[i].freq)
      .mult(peaks[i].amp)
      .fade(0.3 - 0.05 * i)
    );
  }

  return myWave.mult(0.1);
}